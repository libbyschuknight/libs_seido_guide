<%= render "layouts/heading", heading: "STANCES" %>

<div class="row">
  <div class="col">
    <h2 class="title"><%= @stance.japanese_name %></h2>
    <h3><%= @stance.english_name %></h3>
    <p class="description"><%= @stance.description %></p>

    <% if @stance.previous %>
      <%= link_to "previous", @stance.previous, :class => "btn btn-default", :role => "button" %>
    <% end %>

    <% if @stance.next %>
      <%= link_to "next", @stance.next, :class => "btn btn-default", :role => "button" %>
    <% end %>

    <%= link_to "first", @first_stance, :class => "btn btn-default", :role => "button" %>

    <%= link_to "last", @last_stance, :class => "btn btn-default", :role => "button" %>
    <p> </p>

    <%= image_tag @stance.image(:large), { class: "center-block thumbnail" } %>
    <%= link_to 'Edit', edit_stance_path(@stance), :class => "btn btn-default", :role => "button" %>
    <%= link_to "Back", stances_path,  :class => "btn btn-default", :role => "button" %>

  </div>

  <div class="techniques-meta-details-meta-details">
    <br>
    <small>
      Created by: <%= @stance.user.username if @stance.user %>,
      <%= time_ago_in_words(@stance.created_at) %> ago,
      last updated: <%= time_ago_in_words(@stance.updated_at) %> ago
    </small>
  </div>
</div>

<!-- error message not working? -->
<% if @stance.errors.any? %>
  <div class="panel panel-warning errors">
    <div class="panel-heading">
      <h5><i class="glyphicon glyphicon-exclamation-sign"></i> Found errors while saving</h5>
    </div>

    <ul class="panel-body">
      <% @stance.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
<% end %>
